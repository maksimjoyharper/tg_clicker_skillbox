import{j as e,r as l}from"./index-C_BH3tiF.js";const w="_falling_letters_container_hudq5_1",M="_img_open_box_hudq5_21",$="_title_logo_hudq5_33",k="_canv_hudq5_47",f={falling_letters_container:w,img_open_box:M,title_logo:$,canv:k},E="/assets/S-white-DJHRycHD.png",L=({x:t,duration:n,id:r,onClick:a})=>e.jsxs("button",{className:"btn",onTouchStart:()=>a(r),id:r,style:{left:`${t}%`,animationDuration:`${n}s`},children:[" ",e.jsx("img",{src:E,className:"falling_letter_white"})]}),i=[];for(let t=0;t<256;++t)i.push((t+256).toString(16).slice(1));function U(t,n=0){return(i[t[n+0]]+i[t[n+1]]+i[t[n+2]]+i[t[n+3]]+"-"+i[t[n+4]]+i[t[n+5]]+"-"+i[t[n+6]]+i[t[n+7]]+"-"+i[t[n+8]]+i[t[n+9]]+"-"+i[t[n+10]]+i[t[n+11]]+i[t[n+12]]+i[t[n+13]]+i[t[n+14]]+i[t[n+15]]).toLowerCase()}let p;const q=new Uint8Array(16);function C(){if(!p){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");p=crypto.getRandomValues.bind(crypto)}return p(q)}const T=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),y={randomUUID:T};function u(t,n,r){if(y.randomUUID&&!n&&!t)return y.randomUUID();t=t||{};const a=t.random||(t.rng||C)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,U(a)}const R="_timer_container_1vdlq_1",V="_time_1vdlq_1",S={timer_container:R,time:V},F=t=>{const n=Math.floor(t%3600/60),r=t%60;return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`};function A({setIsVision:t,time:n,setTimer:r}){return l.useEffect(()=>{const a=setInterval(()=>{r(o=>o-1)},1e3);return()=>clearInterval(a)},[n]),l.useEffect(()=>{n===0&&t(!1)},[n]),e.jsx("div",{className:S.timer_container,children:e.jsx("div",{className:S.time,children:F(n)})})}const H="/assets/S-blue-Dh_q71fZ.png",P=[{id:u(),duration:3,x:38},{id:u(),duration:1,x:58}],J=({setCount:t,blueLetter:n,setBlueLetter:r})=>{const a=o=>{r(s=>s.filter(c=>c.id!==o)),t(s=>{if(s<=3)s=0;else return s-3;return s})};return l.useEffect(()=>{const o=setInterval(()=>{r(s=>{const c=P.map(d=>({...d,id:u(),duration:Math.random()+2}));return[...s,...c]})},2e3);return()=>clearInterval(o)},[]),e.jsx(e.Fragment,{children:n.map(o=>e.jsxs("button",{className:"btn_blue",onTouchStart:()=>a(o.id),id:o.id,style:{left:`${o.x}%`,animationDuration:`${o.duration}s`},children:[" ",e.jsx("img",{className:"falling_letter_blue",src:H})]},o.id))})},W="_counter_container_47eta_1",G="_counter_47eta_1",I={counter_container:W,counter:G};function K({count:t}){return e.jsx("div",{className:I.counter_container,children:e.jsx("div",{className:I.counter,children:t})})}const O="/assets/bomb-DeoDqckm.png";function N(){return Math.floor(Math.random()*81)+10}function Z({setCount:t,setWhiteLetter:n,setBlueLetter:r,setFlask:a,count:o}){const[s,c]=l.useState([]),d=m=>{c(x=>x.filter(h=>h.id!==m)),n([]),r([]),a([]),o<=10?t(0):t(x=>x-10)};return l.useEffect(()=>{const x=setInterval(()=>{const h={x:N(),duration:Math.random()*3+2,id:u().toString()};c(v=>[...v,h])},4e3);return()=>clearInterval(x)},[]),e.jsx(e.Fragment,{children:s.map(m=>e.jsxs("button",{className:"btn_bomb",onTouchStart:()=>d(m.id),id:m.id,style:{left:`${m.x}%`,animationDuration:`${m.duration}s`},children:[" ",e.jsx("img",{src:O,className:"falling_bomb"})]}))})}const z="/assets/flask-0VLBKfJP.png";function Q({setCount:t,flasks:n,setFlask:r}){const a=o=>{r(s=>s.filter(c=>c.id!==o)),t(s=>s+5)};return l.useEffect(()=>{const s=setInterval(()=>{const c={x:N(),duration:Math.random()*3+2,id:u().toString()};r(d=>d.length===3?[...d.slice(1),c]:[...d,c])},4200);return()=>clearInterval(s)},[]),e.jsx(e.Fragment,{children:n.map(o=>e.jsxs("button",{className:"btn_flask",onTouchStart:()=>a(o.id),id:o.id,style:{left:`${o.x}%`,animationDuration:`${o.duration}s`},children:[" ",e.jsx("img",{src:z,className:"falling_flask"})]}))})}const X="/assets/open-box-BIBPcrIn.png",Y=[{id:u(),duration:Math.random()*3+2,x:10},{id:u(),duration:Math.random()*3+2,x:30},{id:u(),duration:Math.random()*3+2,x:50},{id:u(),duration:Math.random()*3+2,x:70},{id:u(),duration:Math.random()*3+2,x:85}],tt="_modal_7v2vv_1",nt="_overlay_7v2vv_14",et="_content_7v2vv_20",j={modal:tt,overlay:nt,content:et};function ot({children:t}){return e.jsx("div",{className:j.modal,children:e.jsx("div",{className:j.overlay,children:e.jsx("div",{className:j.content,children:t})})})}function at(){const[t,n]=l.useState(!0),[r,a]=l.useState(15),[o,s]=l.useState(0),[c,d]=l.useState([]),[m,x]=l.useState([]),[h,v]=l.useState([]);l.useEffect(()=>{const _=setInterval(()=>{d(g=>{const b=Y.map(D=>({...D,id:u(),duration:Math.random()+3}));return[...g,...b]})},1e3);return()=>clearInterval(_)},[]);const B=_=>{d(g=>g.filter(b=>b.id!==_)),s(g=>g+1)};return e.jsx(ot,{children:t&&e.jsxs("div",{className:f.falling_letters_container,children:[e.jsx(A,{time:r,setTimer:a,setIsVision:n}),e.jsx("p",{className:f.title_logo,children:"Skillbox"}),e.jsx(K,{count:o}),c.map(_=>e.jsx(L,{onClick:()=>B(_.id),id:_.id,x:_.x,duration:_.duration},_.id)),e.jsx(J,{setCount:s,blueLetter:m,setBlueLetter:x}),e.jsx(Q,{setCount:a,flasks:h,setFlask:v}),e.jsx(Z,{count:o,setCount:s,setWhiteLetter:d,setBlueLetter:x,setFlask:v}),e.jsx("img",{src:X,className:f.img_open_box})]})})}export{at as default};
